<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>How old are you?</title>
  </head>
  <body>
    <div id="app">
      <transition name="page" :duration="1300">
        <div class="page" :is="page" @change-page="onChangePage"></div>
      </transition>
    </div>
    <script id="start" type="text/x-template">
      <div class="start">
        <div class="inner">
          <h1 class="title enter-1">How old are you</h1>
          <age-input></age-input>
          <div class="button-wrapper enter-2">
            <button class="button button-start" type="button" @click="$emit('change-page', 'next')"> <span class="button-text">Start!</span></button>
          </div>
        </div>
      </div>
    </script>
    <script id="next" type="text/x-template">
      <div class="next">
        <div class="inner">
          <h1 class="title enter-1">You may want to use...</h1>
          <ul class="next-list">
            <li class="enter-2">&lt;transition&gt; built-in component of Vue.js</li>
            <li class="enter-3">CSS Transition/Animation for simple animation combinations</li>
            <li class="enter-4">JavaScript hooks for complex animation      </li>
          </ul>
          <div class="button-wrapper enter-5">
            <button class="button button-next" type="button" @click="$emit('change-page', 'next2')"><span class="button-text">Next</span></button>
          </div>
        </div>
      </div>
    </script>
    <script id="next2" type="text/x-template">
      <div class="next">
          <div class="button-wrapper enter-1">
            <button class="button button-next" type="button" @click="$emit('change-page', 'start')"><span class="button-text">Back</span></button>
          </div>
      </div>
    </script>
    <script>
      Vue.config.productionTip = false;

      Vue.component("age-input", {
        props: ["value"],
        template: `<input @keypress="isNumber($event)" min="1" max="100" class='enter-1'>`,
        methods: {
          isNumber: function (evt) {
            evt = evt ? evt : window.event;
            var charCode = evt.which ? evt.which : evt.keyCode;
            if (
              charCode > 31 &&
              (charCode < 48 || charCode > 57) &&
              charCode !== 46
            ) {
              evt.preventDefault();
            } else {
              return true;
            }
          },
        },
      });
      Vue.component("start", {
        template: "#start",
      });

      Vue.component("next", {
        template: "#next",
      });
      Vue.component("next2", {
        template: "#next2",
      });

      var app = new Vue({
        el: "#app",

        data: {
          page: "start",
        },

        methods: {
          onChangePage(to) {
            this.page = to;
          },
        },
      });
    </script>
  </body>
</html>
